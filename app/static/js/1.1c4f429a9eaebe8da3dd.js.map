{"version":3,"sources":["webpack:///src/components/SamList.vue","webpack:///./src/components/SamList.vue?8d42","webpack:///./src/components/SamList.vue"],"names":["SamList","name","data","_this","this","hostIP","$store","state","hostIp","filter_mg","edit_stat","input_value","columns","type","width","align","fixed","title","key","sortable","render","h","params","calDays","row","流转开始日期","day","sortType","my_selection","loading","computed","list_s","list_select","filename","Date","getFullYear","getMonth","getDate","methods","getApiData","_this2","path","axios_default","a","get","then","response","console","log","catch","error","getSelecVal","selection","push","getAllVal","delVal","Submit","axios","post","result","err","SubmitFlask","show","index","$router","Sample_name","chEditStat","mySlect","commit","exportData","$refs","table","exportCsv","strToDate","date","parse","replace","days","s1","getTime","time","parseInt","mounted","components_SamList","_vm","_h","$createElement","_c","_self","attrs","on","click","_v","ref","stripe","height","size","on-selection-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/1.1c4f429a9eaebe8da3dd.js","sourcesContent":["<template>\n  <div>\n            <Button type=\"primary\" @click=\"getApiData\"\n            >刷新</Button>\n            <Button type=\"primary\" @click=\"exportData\"\n            >导出</Button>\n            <!-- <div id=\"input-search\"><Input search\n     autofocus\n     placeholder=\"输入样本编号\" /></div> -->\n    <Table stripe\n    :columns=\"columns\"\n           :loading=\"loading\"\n           height=\"600\"\n           :data=\"data\"\n           size=\"small\"\n           @on-selection-change='delVal'\n           ref=\"table\"></Table>\n  </div>\n</template>\n<script>\nimport axios from 'axios'\nexport default {\n  name: 'SamList',\n  data () {\n    return {\n      hostIP: 'http://' + this.$store.state.hostIp,\n      filter_mg: [],\n      edit_stat: false,\n      input_value: [],\n      columns: [\n        {\n          type: 'selection',\n          width: 60,\n          align: 'center',\n          'fixed': 'left'\n        },\n        {\n          'title': '状态',\n          'key': '状态',\n          'width': 120,\n          'sortable': true\n        },\n        {\n          'title': '患者姓名',\n          'key': '患者姓名',\n          'width': 120,\n          'sortable': true\n        },\n        {\n          'title': '检测项目',\n          'key': '检测项目',\n          'width': 120,\n          'sortable': true\n        },\n        {\n          'title': '肿瘤',\n          'key': '病理诊断',\n          'width': 120,\n          'sortable': true\n        },\n        {\n          'title': '申请单号',\n          'key': '申请单号',\n          'width': 150,\n          'sortable': true,\n          'fixed': 'left'\n        },\n        {\n          'title': '迈景编号',\n          'key': '迈景编号',\n          'width': 120,\n          'sortable': true,\n          'fixed': 'left'\n        },\n        {\n          'title': '样本类型',\n          'key': '样本类型',\n          'width': 120,\n          'sortable': true\n        },\n        {\n          'title': '收样日期',\n          'key': '收样日期',\n          'width': 120,\n          'sortable': true\n        },\n        {\n          'title': '流转开始日期',\n          'key': '流转开始日期',\n          'width': 150,\n          'sortable': true\n        },\n        {\n          'title': '提取完成日期',\n          'key': '提取完成日期',\n          'width': 150,\n          'sortable': true\n        },\n        {\n          'title': '建库完成日期',\n          'key': '建库完成日期',\n          'width': 150,\n          'sortable': true\n        },\n        {\n          'title': '实际上机日期',\n          'key': '实际上机日期',\n          'width': 150,\n          'sortable': true\n        },\n        {\n          'title': '上机倒计时',\n          'key': '上机倒计时',\n          'width': 150,\n          'sortable': true,\n          render: (h, params) => {\n            return h('div',\n              this.calDays(params.row.流转开始日期, 4) + '天')\n          }\n        },\n        {\n          'title': '测序完成日期',\n          'key': '测序完成日期',\n          'width': 150,\n          'sortable': true\n        },\n        {\n          'title': '生信完成日期',\n          'key': '生信完成日期',\n          'width': 150,\n          'sortable': true\n        },\n        {\n          'title': '生信倒计时',\n          'key': '生信倒计时',\n          'width': 150,\n          'sortable': true,\n          render: (h, params) => {\n            let day = 0\n            if (params.row.type === 'b') {\n              day = 11\n            } else {\n              day = 9\n            }\n            return h('div',\n              this.calDays(params.row.流转开始日期, day) + '天')\n          }\n        },\n        {\n          'title': '报告完成时间',\n          'key': '报告完成时间',\n          'width': 150,\n          'sortable': true\n        },\n        {\n          'title': '报告倒计时',\n          'key': '报告倒计时',\n          'width': 150,\n          'sortable': true,\n          render: (h, params) => {\n            let day = 0\n            if (params.row.type === 'b') {\n              day = 13\n            } else {\n              day = 10\n            }\n            return h('div',\n              this.calDays(params.row.流转开始日期, day) + '天')\n          }\n        },\n        {\n          'title': '审核完成时间',\n          'key': '审核完成时间',\n          'width': 150,\n          'sortable': true\n        },\n        {\n          'title': '审核倒计时',\n          'key': '审核倒计时',\n          'width': 150,\n          'sortable': true,\n          render: (h, params) => {\n            let day = 0\n            if (params.row.type === 'b') {\n              day = 14\n            } else {\n              day = 11\n            }\n            return h('div',\n              this.calDays(params.row.流转开始日期, day) + '天')\n          }\n        },\n        {\n          'title': '备注',\n          'key': '备注',\n          'width': 120,\n          'sortable': true\n        },\n        {\n          'title': '预计完成时间',\n          'key': '预计完成时间',\n          'width': 150,\n          'fixed': 'right',\n          'sortable': true,\n          'sortType': 'desc'\n        }\n      ],\n      data: [],\n      my_selection: '',\n      loading: false\n    }\n  },\n  computed: {\n    list_s () {\n      return this.$store.state.list_select\n    },\n    filename () {\n      let day = new Date()\n      return day.getFullYear() + '_' + (day.getMonth() + 1) + '_' + day.getDate() + '_' + '575流转'\n    }\n  },\n  methods: {\n    getApiData () {\n      this.loading = true\n      const path = 'http://' + this.$store.state.hostIp + '/flow/api/list/'\n      axios\n        .get(path)\n        .then(response => {\n          this.data = response.data.data\n          this.filter_mg = response.data.filter_mg\n          this.loading = false\n          console.log('成功')\n          console.log(response.data.filter_mg)\n        })\n        .catch(error => {\n          console.log(error)\n        })\n    },\n    getSelecVal (selection) {\n      console.log(selection)\n      this.my_selection.push(selection)\n    },\n    getAllVal (selection) {\n      console.log(selection)\n      this.my_selection.push(selection)\n    },\n    delVal (selection) {\n      // console.log(selection)\n      this.my_selection = selection\n    },\n    Submit () {\n      const path = 'http://' + this.$store.state.hostIp + '/flow/api/list/flow/'\n      this.axios\n        .post(path, {\n          selection: this.my_selection\n        })\n        .then((result) => {\n          console.log(result)\n        }).catch((err) => {\n          console.log(err)\n        })\n    },\n    SubmitFlask () {\n      this.Submit()\n    },\n    show (index) {\n      this.$router.push({ path: `/snvlist/${this.data[index].Sample_name}` })\n      console.log(this.data[index].Sample_name)\n    },\n    chEditStat () {\n      if (this.edit_stat) {\n        this.edit_stat = false\n      } else {\n        this.edit_stat = true\n      }\n    },\n    mySlect () {\n      this.Submit()\n      this.$store.commit('addSelect', this.my_selection)\n      // this.$router.push({ path: `/editsam` })\n      console.log(this.list_s)\n    },\n    exportData () {\n      this.$refs.table.exportCsv({\n        filename: this.filename,\n        data: this.my_selection,\n        columns: this.columns\n      })\n    },\n    strToDate (date) {\n      return new Date(Date.parse(date.replace(/\\./g, '/')))\n    },\n    calDays (date, days) {\n      // date eg:'2019.07.31'(str) days: 9(int)\n      let s1 = date\n      s1 = new Date(Date.parse(s1.replace(/\\./g, '/')))\n      let s2 = new Date()// 当前日期：2017-04-24\n      let day = s2.getTime() - s1.getTime()\n      let time = parseInt(day / (1000 * 60 * 60 * 24))\n      if (days - time > 0) {\n        return days - time\n      } else {\n        return 0\n      }\n    }\n  },\n  mounted () {\n    this.getApiData()\n    this.$store.commit('addSelect', '')\n  }\n}\n</script>\n<style scoped>\n#input-search{\n    width: 300px;\n    float: left;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/SamList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.getApiData}},[_vm._v(\"刷新\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.exportData}},[_vm._v(\"导出\")]),_vm._v(\" \"),_c('Table',{ref:\"table\",attrs:{\"stripe\":\"\",\"columns\":_vm.columns,\"loading\":_vm.loading,\"height\":\"600\",\"data\":_vm.data,\"size\":\"small\"},on:{\"on-selection-change\":_vm.delVal}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7a7c41f2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/SamList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7a7c41f2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SamList.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SamList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SamList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7a7c41f2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./SamList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7a7c41f2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/SamList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}