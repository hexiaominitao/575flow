webpackJsonp([8],{"934e":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={name:"ViewSeq",data:function(){return{title:[],seq_data:[],seq_columns:[{title:"迈景编号",key:"sample_name"},{title:"检测项目",key:"item"},{title:"Barcode",key:"barcode"},{title:"备注",key:"note"},{title:"操作",slot:"action"}]}},computed:{my_name:function(){return this.$route.params.name}},methods:{getData:function(t){var e=this;this.loading=!0;var n="http://"+this.$store.state.hostIp+"/flow/api/seq_info/"+t;this.axios.get(n).then(function(t){e.title=t.data.run,e.seq_data=t.data.seq,e.loading=!1,console.log(e.dateToString(e.title.start_T))}).catch(function(t){console.log(t)})},delRun:function(t){var e="http://"+this.$store.state.hostIp+"/flow/api/seq_info/del";this.axios.post(e,{selection:this.seq_data[t]}).then(function(t){console.log(t)}).catch(function(t){console.log(t)})},remove:function(t){var e=this;this.$Modal.confirm({title:"确定删除所选样本!!!!",content:"<p>删除后无法恢复,请慎重操作!!!!</p>",onOk:function(){e.$Message.info("删除成功"),e.delRun(t),e.seq_data.splice(t,1)},onCancel:function(){e.$Message.info("取消")}})},dateToString:function(t){var e=new Date(t+"+0800");if(e instanceof Date){var n=e.getFullYear(),o=(e.getMonth()+1).toString(),a=e.getDate().toString(),i=e.getHours().toString(),s=e.getMinutes().toString();return 1===o.length&&(o="0"+o),1===a.length&&(a="0"+a),1===i.length&&(i="0"+i),1===s.length&&(s="0"+s),n+"."+o+"."+a+" "+i+":"+s}return e},downloadFile:function(){var t="http://"+this.$store.state.hostIp+"/flow/api/download/"+this.$route.params.mg_id;window.location.href=t}},mounted:function(){this.getData(this.$route.params.mg_id)}},a={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Row",[n("Col",{attrs:{span:"6"}},[t._v("Run:"),n("strong",[t._v(t._s(t.title.name))])]),t._v(" "),n("Col",{attrs:{span:"6"}},[t._v("上机时间:"),n("strong",[t._v(t._s(t.dateToString(t.title.start_T)))])]),t._v(" "),n("Col",{attrs:{span:"6"}},[t._v("下机时间:"),n("strong",[t._v(t._s(t.dateToString(t.title.end_T)))])]),t._v(" "),n("Col",{attrs:{span:"6"}},[n("Button",{attrs:{type:"primary"},on:{click:t.downloadFile}},[t._v("生成SampleSheet")])],1)],1),t._v(" "),n("br"),t._v(" "),n("Table",{attrs:{border:"",height:"520",columns:t.seq_columns,data:t.seq_data},scopedSlots:t._u([{key:"action",fn:function(e){e.row;var o=e.index;return[n("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){return t.remove(o)}}},[t._v("删除")])]}}])})],1)},staticRenderFns:[]},i=n("VU/8")(o,a,!1,null,null,null);e.default=i.exports}});
//# sourceMappingURL=8.cf43d0c0a56c2450079e.js.map